<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Travel Blogs</title>
      <link rel="icon" type="image/x-icon" th:href="@{/image/favicon.ico}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>



<section class="container-fluid bg-secondary text-white p-5">
<div class="row ">
	<h2 class="text-white text-center">Traveller's Blogs</h2>
	</div>
	<div class="container bg-dark text-white pt-5 pb-5">
	<div class="row justify-content-end" th:if="${message ne null}" id="myDIV">
	
	<div class="col-4 alert alert-primary mt-3">
			<div class="col-8 mb-3">
				<p th:text="${message}" th:if="${message ne null}"></p>
			</div>
			<div class="col-2">
				<button type="submit" onClick="myFunction()">Close</button>
			</div>
	</div>
	</div>
	
		<div class="row">
		    <div class="col-2 mr-5">
		    <div class="d-grid gap-2 col-12">
				 <a th:href="@{/}"><button type="submit" class="btn btn-primary">Add new Entry</button></a>
				 <button type="submit" class="btn btn-secondary" disabled>View Blogs</button>
			</div>
       	    </div>
		    <div class="col-10 align-items-center">				
    <div class="row text-white mb-2 border-start border-bottom border-white" th:each="blog : ${listBlogs}">
  	<div class="col-4">
  		<img th:src="${blog.imageUrl}" class="img-thumbnail" alt="Cover Photo">
  	</div>
  	<div class="col-8 p-2">
  		<p th:text="${blog.name}"></p>
  		<p th:text="${blog.description}"></p>
  		<p th:text="${blog.date}"></p>
  		<div class="row justify-content-end pt-1 pb-3">
	    
	    <div class="col-2">
	    	
           <form method="post" th:action="@{/viewBlog}" th:object="${blog}">
           <input type="hidden" th:value="${blog.description}" name="description">
           <input type="hidden" th:value="${blog.date}" name="date">
           <input type="hidden" th:value="${blog.name}" name="name">
           <input type="hidden" th:value="${blog.id}" name="id">
           <input type="hidden" th:value="${blog.imageUrl}" name="imageUrl">
	    	<button type="submit" class="btn btn-primary btn-sm">View</button>
	    	</form>
	    </div>
	    
	    
	    <div class="col-2">
	    	
           <form method="post" th:action="@{/editBlog}" th:object="${blog}">
           <input type="hidden" th:value="${blog.description}" name="description">
           <input type="hidden" th:value="${blog.date}" name="date">
           <input type="hidden" th:value="${blog.name}" name="name">
           <input type="hidden" th:value="${blog.id}" name="id">
           <input type="hidden" th:value="${blog.imageUrl}" name="imageUrl">
	    	<button type="submit" class="btn btn-success btn-sm">Update</button>
	    	</form>
	    </div>
	    <div class="col-2">
	    <form method="post" th:action="@{/delete}" th:object="${blog}">
           <input type="hidden" th:value="${blog.description}" name="description">
           <input type="hidden" th:value="${blog.date}" name="date">
           <input type="hidden" th:value="${blog.name}" name="name">
           <input type="hidden" th:value="${blog.id}" name="id">
           <input type="hidden" th:value="${blog.imageUrl}" name="imageUrl">
	    	<button type="submit" class="btn btn-danger btn-sm">Delete</button>
	    	</form>
	    </div>
	    
	    </div>
	    </div>
    </div>
            </div>
		</div>
	</div>
</section>


<script>

function myFunction() {
	var x = document.getElementById("myDIV");
	x.style.display = "none";	
}
</script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>